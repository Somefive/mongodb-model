{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/scenario.ts","../src/validator.ts","../src/model.ts","../src/mongo-model.ts"],"names":[],"mappings":"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"}